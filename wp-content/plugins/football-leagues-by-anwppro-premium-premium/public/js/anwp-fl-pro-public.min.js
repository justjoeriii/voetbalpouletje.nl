window.anwpFLProCalendarSlider={},function(window,$,app){app.init=function(){app.cache(),app.meetsRequirements()&&app.bindEvents()},app.cache=function(){app.$c={window:$(window),wrappers:$(".anwp-fl-calendar-slider")}},app.bindEvents=function(){"loading"!==document.readyState?app.initCalendar():document.addEventListener("DOMContentLoaded",app.initCalendar)},app.meetsRequirements=function(){return"undefined"!=typeof Swiper&&app.$c.wrappers.length},app.initCalendar=function(){app.$c.wrappers.each(function(){var $this=$(this),slideDates={},$xhr=null,$wrapper=$this.find(".anwp-fl-calendar-slider__games"),$wrapperToday=$this.find(".anwp-fl-calendar-slider__games-today"),dateToday=$this.data("today"),$loader='<img class="anwp-fl-loader my-4" src="'+anwpfl_premium_public_l10n.loader+'" alt="loader">',calendarSlider=new Swiper($this.find(".anwp-fl-calendar-slider__swiper-container")[0],{slidesPerView:2,breakpoints:{460:{slidesPerView:4},740:{slidesPerView:6},840:{slidesPerView:7}},slideToClickedSlide:!0,initialSlide:29,autoplay:!1,slideClass:"anwp-fl-calendar-slider__swiper-slide",navigation:{nextEl:$this.find(".anwp-fl-calendar-slider__swiper-button-next")[0],prevEl:$this.find(".anwp-fl-calendar-slider__swiper-button-prev")[0]}});calendarSlider.on("slideChange",function(){var currentDate=calendarSlider.slides[calendarSlider.activeIndex].getAttribute("data-date");currentDate===dateToday?($wrapper.html(""),$wrapperToday.removeClass("d-none")):($wrapperToday.addClass("d-none"),slideDates[currentDate]?($wrapper.html(slideDates[currentDate]),$(document).trigger("onFLGamesHiddenLoaded")):($xhr&&4!==$xhr.readyState&&$xhr.abort(),$wrapper.html($loader),$xhr=$.ajax({url:anwpfl_premium_public_l10n.ajax_url,type:"POST",dataType:"json",data:{action:"anwp_fl_calendar_slider_matches",_ajax_nonce:anwpfl_premium_public_l10n.public_nonce,date:calendarSlider.slides[calendarSlider.activeIndex].getAttribute("data-date"),args:$this.data("args")}}).done(function(response){response.success&&response.data.html?(slideDates[currentDate]=response.data.html,$wrapper.html(response.data.html)):$wrapper.html(""),$(document).trigger("onFLGamesHiddenLoaded")}).fail(function(){$wrapper.html("")})))})})},app.init()}(window,jQuery,window.anwpFLProCalendarSlider),window.anwpFLProLiveScoresList={},function(window,$,app,l10n){"use strict";function updateLiveTimers(){$.ajax({data:{action:"anwp_fl_live_matches_update",matches:_.pluck(app.$c.liveTimers,"data"),_ajax_nonce:l10n.public_nonce},url:l10n.ajax_url,type:"POST",dataType:"json"}).done(function(response){!0===response.success&&(response.data&&response.data.updated&&_.size(response.data.updated)&&_.each(response.data.updated,function(match){var $wrapper=app.$c.matchList.filter("[data-anwp-match="+match.id+"]"),$wrapperA=app.$c.horizontal.find(".match-card.match-card--a[data-anwp-match="+match.id+"]"),playSound=!1;($wrapper.length||$wrapperA.length)&&(match.id&&void 0===app.$c.liveTimers[match.id]&&(app.$c.liveTimers[match.id]={timer:new easytimer.Timer,data:match},$wrapper.addClass("fl-match-is-live"),$wrapperA.addClass("fl-match-is-live"),$wrapper.find(".match-list__date").after('<div class="match-list__live-block"><div class="d-flex align-items-center"><span class="match-list__live-label">'+String(l10n.live)+'</span><span class="match-list__live-time"></span></div><span class="match-list__live-status">'+match.live_status+"</span></div>"),$wrapper.find(".match-slim__mobile-scores").after('<div class="match-list__live-block"><div class="d-flex align-items-center"><span class="match-list__live-label">'+String(l10n.live)+'</span><span class="match-list__live-time"></span></div><span class="match-list__live-status">'+match.live_status+"</span></div>"),$wrapperA.find(".match-card__footer").after('<div class="match-card__live-block d-flex align-items-center anwp-bg-light mt-auto"><span class="match-card__live-label">'+String(l10n.live)+'</span><span class="match-card__live-time"></span><span class="match-card__live-status ml-auto">'+match.live_status+"</span></div>")),$wrapper.find(".match-list__live-status").text(match.live_status),$wrapperA.find(".match-card__live-status").text(match.live_status),"yes"===match.update_scores&&($wrapper.find(".match-list__scores--home").text(Number(match.home_score)),$wrapperA.find(".match-card__scores > span:first-child").text(Number(match.home_score)),Number(match.home_score)!==Number(app.$c.liveTimers[match.id].data.home_score)&&app.$c.liveBlinking&&(_.delay(function($el){$el.removeClass("anwp-blinking-text")},6e4,$wrapper.find(".match-list__scores--home")),_.delay(function($el){$el.removeClass("anwp-blinking-text")},6e4,$wrapperA.find(".match-card__scores > span:first-child")),$wrapper.find(".match-list__scores--home").addClass("anwp-blinking-text"),$wrapperA.find(".match-card__scores > span:first-child").addClass("anwp-blinking-text"),playSound=!0),$wrapper.find(".match-list__scores--away").text(Number(match.away_score)),$wrapperA.find(".match-card__scores > span:last-child").text(Number(match.away_score)),Number(match.away_score)!==Number(app.$c.liveTimers[match.id].data.away_score)&&app.$c.liveBlinking&&(_.delay(function($el){$el.removeClass("anwp-blinking-text")},6e4,$wrapper.find(".match-list__scores--away")),_.delay(function($el){$el.removeClass("anwp-blinking-text")},6e4,$wrapperA.find(".match-card__scores > span:last-child")),$wrapper.find(".match-list__scores--away").addClass("anwp-blinking-text"),$wrapperA.find(".match-card__scores > span:last-child").addClass("anwp-blinking-text"),playSound=!0),playSound&&app.$c.liveSoundEnable&&app.$c.liveSoundGoal&&app.$c.liveSoundGoal.play()),"yes"===match.update_time&&(app.$c.liveTimers[match.id].timer.stop(),""===match.current_time&&""===match.max_time?($wrapper.find(".match-list__live-time").text("").removeClass("anwp-blinking-text"),$wrapperA.find(".match-card__live-time").text("").removeClass("anwp-blinking-text")):(app.$c.liveTimers[match.id].timer.start({precision:"minutes",startValues:{minutes:Number(match.current_time)},target:{minutes:Number(match.max_time)}}),$wrapper.find(".match-list__live-time").text(Number(match.current_time)+"`"),$wrapperA.find(".match-card__live-time").text(Number(match.current_time)+"`"),app.$c.liveTimers[match.id].timer.addEventListener("minutesUpdated",function(){$wrapper.find(".match-list__live-time").text(app.$c.liveTimers[match.id].timer.getTotalTimeValues().minutes+"`"),$wrapperA.find(".match-card__live-time").text(app.$c.liveTimers[match.id].timer.getTotalTimeValues().minutes+"`")}),_.contains(["half_time","full_time","finished"],match.live_status_slug)?($wrapper.find(".match-list__live-time").removeClass("anwp-blinking-text"),$wrapperA.find(".match-card__live-time").removeClass("anwp-blinking-text")):($wrapper.find(".match-list__live-time").addClass("anwp-blinking-text"),$wrapperA.find(".match-card__live-time").addClass("anwp-blinking-text")))),app.$c.liveTimers[match.id].data=match)}),app.$c.body.find(".anwp-blinking-text").removeClass("anwp-blinking-text").addClass("anwp-blinking-text--paused"),app.$c.body.find(".anwp-blinking-text--paused").width(),app.$c.body.find(".anwp-blinking-text--paused").removeClass("anwp-blinking-text--paused").addClass("anwp-blinking-text"),response.data&&response.data.finished&&_.size(response.data.finished)&&_.each(response.data.finished,function(match){var $wrapper=app.$c.matchList.filter("[data-anwp-match="+match.id+"]"),$wrapperA=app.$c.horizontal.find(".match-card.match-card--a[data-anwp-match="+match.id+"]");($wrapper.length||$wrapperA.length)&&(match.id&&void 0!==app.$c.liveTimers[match.id]&&app.$c.liveTimers[match.id].timer.stop(),$wrapper.removeClass("fl-match-is-live"),$wrapperA.removeClass("fl-match-is-live"),$wrapper.find(".match-list__live-block").remove(),$wrapperA.find(".match-card__live-block").remove(),$wrapper.find(".match-list__scores--home").text(Number(match.home_score)),$wrapper.find(".match-list__scores--away").text(Number(match.away_score)),$wrapperA.find(".match-card__scores > span:first-child").text(Number(match.home_score)),$wrapperA.find(".match-card__scores > span:last-child").text(Number(match.away_score)),delete app.$c.liveTimers[match.id])}))})}app.init=function(){app.cache(),app.meetsRequirements()&&app.bindEvents()},app.cache=function(){app.$c={window:$(window),body:$(document.body),liveTimers:{}}},app.domCache=function(){app.$c.matchList=app.$c.body.find("div.match-list__item.match-slim"),app.$c.horizontal=app.$c.body.find(".anwp-fl-matches-scoreboard"),app.$c.liveBlinking=app.$c.body.hasClass("fl-live-mode__blinking"),app.$c.liveSoundEnable=app.$c.body.hasClass("fl-live-mode__sound"),app.$c.liveSoundGoal=!!l10n.live_sound_goal&&new Audio(l10n.live_sound_goal)},app.bindEvents=function(){"loading"!==document.readyState?app.onWindowLoad():document.addEventListener("DOMContentLoaded",app.onWindowLoad)},app.onWindowLoad=function(){app.domCache(),app.initLiveList()},app.meetsRequirements=function(){return app.$c.body.hasClass("fl-live-mode")},app.initLiveList=function(){$.ajax({data:{action:"anwp_fl_live_matches_init",_ajax_nonce:l10n.public_nonce},url:l10n.ajax_url,type:"POST",dataType:"json"}).done(function(response){!0===response.success&&function(matches){var updateInterval=1e3*(Number(l10n._live_update_list)?Number(l10n._live_update_list):60);if(!_.isObject(matches)||_.isEmpty(matches)||"undefined"==typeof easytimer)return setTimeout(app.initLiveList,updateInterval);app.$c.matchList.each(function(){var matchID=Number($(this).data("anwp-match"));matchID&&matches[matchID]&&(app.$c.liveTimers[matchID]={timer:new easytimer.Timer,data:matches[matchID]})}),app.$c.horizontal.find(".match-card.match-card--a").each(function(){var matchID=Number($(this).data("anwp-match"));matchID&&matches[matchID]&&(app.$c.liveTimers[matchID]={timer:new easytimer.Timer,data:matches[matchID]})}),_.each(app.$c.liveTimers,function(item){var $wrapper=app.$c.matchList.filter("[data-anwp-match="+item.data.id+"]"),$wrapperA=app.$c.horizontal.find(".match-card.match-card--a[data-anwp-match="+item.data.id+"]"),counterLength=item.data.max_time-item.data.current_time;$wrapper.addClass("fl-match-is-live"),$wrapper.find(".match-list__date").after('<div class="match-list__live-block"><div class="d-flex align-items-center"><span class="match-list__live-label">'+String(l10n.live)+'</span><span class="match-list__live-time"></span></div><span class="match-list__live-status">'+item.data.live_status+"</span></div>"),$wrapper.find(".match-slim__mobile-scores").after('<div class="match-list__live-block"><div class="d-flex align-items-center"><span class="match-list__live-label">'+String(l10n.live)+'</span><span class="match-list__live-time"></span></div><span class="match-list__live-status">'+item.data.live_status+"</span></div>"),$wrapper.find(".match-list__scores--home").text(Number(item.data.home_score)),$wrapper.find(".match-list__scores--away").text(Number(item.data.away_score)),$wrapperA.addClass("fl-match-is-live"),$wrapperA.find(".match-card__footer").after('<div class="match-card__live-block d-flex align-items-center anwp-bg-light mt-auto"><span class="match-card__live-label">'+String(l10n.live)+'</span><span class="match-card__live-time"></span><span class="match-card__live-status ml-auto">'+item.data.live_status+"</span></div>"),$wrapperA.find(".match-card__scores > span:first-child").text(Number(item.data.home_score)),$wrapperA.find(".match-card__scores > span:last-child").text(Number(item.data.away_score)),counterLength&&($wrapper.find(".match-list__live-time").addClass("anwp-blinking-text"),$wrapperA.find(".match-card__live-time").addClass("anwp-blinking-text")),""===item.data.current_time&&""===item.data.max_time?($wrapper.find(".match-list__live-time").text(""),$wrapperA.find(".match-card__live-time").text("")):(item.timer.start({precision:"minutes",startValues:{minutes:Number(item.data.current_time)},target:{minutes:Number(item.data.max_time)}}),$wrapper.find(".match-list__live-time").text(Number(item.data.current_time)+"`"),$wrapperA.find(".match-card__live-time").text(Number(item.data.current_time)+"`"),item.timer.addEventListener("minutesUpdated",function(){$wrapper.find(".match-list__live-time").text(item.timer.getTotalTimeValues().minutes+"`"),$wrapperA.find(".match-card__live-time").text(item.timer.getTotalTimeValues().minutes+"`")}))}),_.size(app.$c.liveTimers)?setInterval(updateLiveTimers,updateInterval):setTimeout(app.initLiveList,updateInterval)}(response.data)})},$(app.init)}(window,jQuery,window.anwpFLProLiveScoresList,window.anwpfl_premium_public_l10n),window.anwpFLProLiveSingleMatch={},function(window,$,app,l10n){"use strict";function populateStaticData(data){app.$c.staticData.live_status=data.live_status,app.$c.staticData.live_status_title=data.live_status_title,app.$c.staticData.home_score=data.home_score,app.$c.staticData.away_score=data.away_score}app.init=function(){$(document.body).hasClass("fl-live-mode")&&$(document.body).hasClass("single-anwp_match")&&(app.cache(),app.bindEvents())},app.cache=function(){app.$c={window:$(window),body:$(document.body),liveTimer:null,staticData:{live_status:"",live_status_title:"",home_score:"",away_score:""}}},app.domCache=function(){app.$c.matchWrapper=app.$c.body.find(".match__inner"),app.$c.matchHeaderWrapper=app.$c.matchWrapper.find(".match__header--wrapper").length?app.$c.matchWrapper.find(".match__header--wrapper"):app.$c.matchWrapper.find(".match-scoreboard"),app.$c.liveSoundEnable=app.$c.body.hasClass("fl-live-mode__sound"),app.$c.liveSoundGoal=!!l10n.live_sound_goal&&new Audio(l10n.live_sound_goal)},app.bindEvents=function(){"loading"!==document.readyState?app.onWindowLoad():document.addEventListener("DOMContentLoaded",app.onWindowLoad)},app.onWindowLoad=function(){app.domCache(),app.maybeLiveMatch()&&app.prepareLiveTimer()},app.maybeLiveMatch=function(){return app.$c.matchWrapper.hasClass("match__inner--live")},app.prepareLiveTimer=function(){$.ajax({data:{action:"anwp_fl_live_match_init",match_id:app.$c.matchWrapper.data("id"),_ajax_nonce:l10n.public_nonce},url:l10n.ajax_url,type:"POST",dataType:"json"}).done(function(response){!0===response.success?app.$c.matchWrapper.hasClass("fl-match-live-layout")?app.initLiveTimer(response.data):location.reload():response.data&&"live-empty"===response.data&&setTimeout(app.prepareLiveTimer,6e4)})},app.initLiveTimer=function(matchData){if(!_.isObject(matchData)||_.isEmpty(matchData)||"undefined"==typeof easytimer)return!1;populateStaticData(matchData),app.$c.liveTimer={timer:new easytimer.Timer,data:{events_hash:matchData.events_hash,id:matchData.id,timestamp_scores:matchData.timestamp_scores,timestamp_status:matchData.timestamp_status}};var counterLength=matchData.max_time-matchData.current_time,header_html='<div class="anwp-text-center fl-live-match-scores-block fl-live-match-scores-block--header py-2"><div class="align-items-center"><span class="match-list__scores-number match-list__scores--home d-inline-block mr-1"></span><span class="match-list__scores-number match-list__scores--away d-inline-block"></span></div><div class="match-list__live-block d-flex align-items-center justify-content-center mt-2"><span class="match-list__live-label">'+String(l10n.live)+'</span><span class="match-list__live-time"></span><span class="match-list__live-status"></span></div></div>',scheduled_html='<div class="anwp-text-center fl-live-match-scheduled-block py-2"><span class="match-list__live-label">'+String(l10n.live_scheduled)+"</span></div>";app.$c.matchWrapper.addClass("fl-match-is-live"),matchData.live_status?app.$c.matchWrapper.addClass("fl-match-is-live--active"):(app.$c.matchHeaderWrapper.find(".match-scoreboard__footer").before(scheduled_html),app.$c.matchHeaderWrapper.find(".match__header").after(scheduled_html)),app.$c.matchHeaderWrapper.find(".match-scoreboard__footer").before(header_html),app.$c.matchHeaderWrapper.find(".match__header").after(header_html),app.$c.matchHeaderWrapper.find(".match-list__scores--home").html(Number(matchData.home_score)),app.$c.matchHeaderWrapper.find(".match-list__scores--away").html(Number(matchData.away_score)),counterLength&&app.$c.matchHeaderWrapper.find(".match-list__live-time").addClass("anwp-blinking-text"),""===matchData.current_time&&""===matchData.max_time?app.$c.matchHeaderWrapper.find(".match-list__live-time").html(""):matchData.live_status&&(app.$c.liveTimer.timer.start({precision:"minutes",startValues:{minutes:Number(matchData.current_time)},target:{minutes:Number(matchData.max_time)}}),app.$c.matchHeaderWrapper.find(".match-list__live-time").html(Number(matchData.current_time)+"`"),app.$c.matchHeaderWrapper.find(".match-list__live-status").text(matchData.live_status_title),app.$c.liveTimer.timer.addEventListener("minutesUpdated",function(){app.$c.matchHeaderWrapper.find(".match-list__live-time").html(app.$c.liveTimer.timer.getTotalTimeValues().minutes+"`"),$(document).trigger("onFLLiveMinutesUpdated")})),matchData.events_html&&app.$c.matchWrapper.find(".match-commentary__wrapper").html(matchData.events_html),app.$c.liveTimer.timer&&setInterval(app.updateLiveTimer,1e3*(Number(l10n._live_update_single)?Number(l10n._live_update_single):30)),$(document).trigger("onFLLiveDataUpdated")},app.updateLiveTimer=function(){if(!app.$c.liveTimer)return!1;$.ajax({data:{action:"anwp_fl_live_match_update",match:app.$c.liveTimer.data,_ajax_nonce:l10n.public_nonce},url:l10n.ajax_url,type:"POST",dataType:"json"}).done(function(response){if(!0===response.success&&response.data&&_.isObject(response.data)&&!_.isEmpty(response.data)){if("finished"===response.data.status)return location.reload(),!1;if("updated"!==response.data.status)return!1;if(response.data.live_status&&!app.$c.matchWrapper.hasClass("fl-match-is-live--active"))return location.reload(),!1;"yes"===response.data.update_scores&&(app.$c.matchHeaderWrapper.find(".match-list__scores--home").html(Number(response.data.home_score)),app.$c.matchHeaderWrapper.find(".match-list__scores--away").html(Number(response.data.away_score)),app.$c.liveSoundEnable&&app.$c.liveSoundGoal&&app.$c.liveSoundGoal.play()),"yes"===response.data.update_time&&(app.$c.liveTimer.timer.stop(),""===response.data.current_time&&""===response.data.max_time?(app.$c.matchHeaderWrapper.find(".match-list__live-time").html(""),app.$c.matchHeaderWrapper.find(".match-list__live-time").removeClass("anwp-blinking-text")):response.data.live_status&&(app.$c.liveTimer.timer.start({precision:"minutes",startValues:{minutes:Number(response.data.current_time)},target:{minutes:Number(response.data.max_time)}}),app.$c.matchHeaderWrapper.find(".match-list__live-time").html(Number(response.data.current_time)+"`"),app.$c.matchHeaderWrapper.find(".match-list__live-status").text(response.data.live_status_title),app.$c.liveTimer.timer.addEventListener("minutesUpdated",function(){app.$c.matchHeaderWrapper.find(".match-list__live-time").html(app.$c.liveTimer.timer.getTotalTimeValues().minutes+"`"),$(document).trigger("onFLLiveMinutesUpdated")}),_.contains(["half_time","full_time","finished"],response.data.live_status)?app.$c.matchHeaderWrapper.find(".match-list__live-time").removeClass("anwp-blinking-text"):app.$c.matchHeaderWrapper.find(".match-list__live-time").addClass("anwp-blinking-text"))),"yes"===response.data.update_events&&(app.$c.matchWrapper.find(".match-commentary__wrapper").html(response.data.events_html),app.$c.matchWrapper.find(".anwp-section.match-timeline").replaceWith(response.data.timeline_html),window.AnWPFootballLeagues.initTooltips()),app.$c.liveTimer.data.timestamp_scores=response.data.timestamp_scores,app.$c.liveTimer.data.timestamp_status=response.data.timestamp_status,app.$c.liveTimer.data.events_hash=response.data.events_hash,populateStaticData(response.data),$(document).trigger("onFLLiveDataUpdated")}})},app.init()}(window,jQuery,window.anwpFLProLiveSingleMatch,window.anwpfl_premium_public_l10n),window.AnWPFootballLeaguesPremium=window.AnWPFootballLeaguesPremium||{},function(window,document,$,plugin){"use strict";var $c={};plugin.init=function(){plugin.cache(),plugin.bindEvents()},plugin.cache=function(){$c.window=$(window),$c.gameCards={},$c.body=$(document.body),$c.l10n=window.anwpfl_premium_public_l10n?window.anwpfl_premium_public_l10n:{}},plugin.bindEvents=function(){"loading"!==document.readyState?plugin.onPageReady():document.addEventListener("DOMContentLoaded",plugin.onPageReady)},plugin.onPageReady=function(){plugin.initDataStatsPlayers(),plugin.scrollTo(),plugin.initBuilderTabs(),plugin.initWidgetCalendar(),plugin.initChartGoal15(),plugin.initChartTeamDefaults(),plugin.initClubCalendar(),plugin.initShowScore(),plugin.initTippyGame(),plugin.standingMatchesInModaal(),plugin.statPlayersInModaal()},plugin.initTippyGame=function(){if(!$c.body.find(".anwp-fl-missing-shortcode").length)return!1;var $xhr,tippyOptions={theme:"light-border",interactive:!0,allowHTML:!0,placement:"top",content:'<img class="m-3" src="'+$c.l10n.spinner_url+'">',onShow:function(instance){var matchID=$(instance.reference).data("match-id");$xhr&&4!==$xhr.readyState&&$xhr.abort(),$c.gameCards[matchID]?instance.setContent($c.gameCards[matchID]):$xhr=$.ajax({url:$c.l10n.ajax_url,type:"POST",dataType:"json",data:{action:"anwp_fl_get_form_club_match",_ajax_nonce:$c.l10n.public_nonce,match_id:matchID}}).done(function(response){response.success&&response.data.html&&($c.gameCards[matchID]=response.data.html,instance.setContent(response.data.html))})}};tippy(".anwp-fl-missing-shortcode-match-tooltip[data-anwp-fl-match-tooltip]",tippyOptions)},plugin.initWidgetCalendar=function(){if(!$c.body.find(".anwp-fl-calendar-widget-wrap").length||"undefined"==typeof flatpickr)return!1;$c.body.find(".anwp-fl-calendar-widget-wrap").each(function(){var $this=$(this),$xhr=null,$wrapper=$this.closest(".anwp-b-wrap").find(".anwp-fl-calendar-matches-wrapper"),datesAvailable=$wrapper.data("dates").split("|");function fetchMatches(){$xhr&&4!==$xhr.readyState&&$xhr.abort(),$wrapper.addClass("d-none anwp-is-loading"),$xhr=$.ajax({url:anwpfl_premium_public_l10n.ajax_url,type:"POST",dataType:"json",data:{action:"anwp_fl_calendar_get_matches",_ajax_nonce:anwpfl_premium_public_l10n.public_nonce,date:$this.val(),args:$wrapper.data("args")}}).done(function(response){response.success?$wrapper.html(response.data.html):$wrapper.html(response.data?response.data:anwpfl_premium_public_l10n.loadingDataError)}).fail(function(){$wrapper.html(anwpfl_premium_public_l10n.loadingDataError)}).always(function(){$wrapper.removeClass("d-none anwp-is-loading")})}flatpickr(this,{inline:!0,dateFormat:"Y-m-d",defaultDate:"today",onChange:fetchMatches,onReady:fetchMatches,onDayCreate:function(dObj,dStr,fp,dayElem){_.contains(datesAvailable,fp.formatDate(dayElem.dateObj,"Y-m-d"))&&(dayElem.innerHTML+='<svg class="icon__ball"><use xlink:href="#icon-ball"></use></svg>',dayElem.classList.add("anwp-calendar-day-has-matches"))},locale:{firstDayOfWeek:anwpfl_premium_public_l10n.first_day_week,weekdays:{shorthand:anwpfl_premium_public_l10n.weekdaysShort},months:{longhand:anwpfl_premium_public_l10n.months}}})})},plugin.initChartGoal15=function(){if(!$c.body.find(".anwp-fl-chart__goals-15").length||"undefined"==typeof echarts)return!1;$c.body.find(".anwp-fl-chart__goals-15").each(function(){var $this=$(this),myChart=echarts.init(this),option={xAxis:{data:$this.data("fl-indexes")},yAxis:{},grid:{top:"hide"!==$this.data("fl-legend")?40:20,left:40,right:40,bottom:25},series:[{name:$this.data("fl-text-scored"),type:"bar",stack:"default",barCategoryGap:"50%",data:$this.data("fl-series-1"),label:{show:!0,position:"inside",formatter:function(params){return params.value?params.value:""}}},{name:$this.data("fl-text-conceded"),type:"bar",stack:"default",barCategoryGap:"50%",data:$this.data("fl-series-2"),label:{show:!0,position:"inside",formatter:function(params){return params.value?-1*params.value:""}}}]};"hide"!==$this.data("fl-legend")&&(option.legend={data:[$this.data("fl-text-scored"),$this.data("fl-text-conceded")]}),myChart.setOption(option),$c.window.on("resize orientationchange",_.debounce(function(){myChart.resize()},300)),$(document).on("onFLBuilderNavbarTabClicked",function(){myChart.resize()})})},plugin.initChartTeamDefaults=function(){if(!$c.body.find(".anwp-fl-chart__team-defaults").length||"undefined"==typeof echarts)return!1;$c.body.find(".anwp-fl-chart__team-defaults").each(function(){var $this=$(this),tooltips=$this.data("fl-tooltips"),myChart=echarts.init(this),option={xAxis:{data:$this.data("fl-indexes")},title:{text:$this.data("fl-title")},grid:{top:$this.data("fl-title")?40:20,left:40,right:40},yAxis:{},tooltip:{axisPointer:{type:"shadow"},formatter:function(params){return tooltips[params.dataIndex]?"<b>"+params.value+"</b><br>"+tooltips[params.dataIndex].replace("||","<br>"):params.value}},series:[{name:"Stat Value",type:"bar",barCategoryGap:"50%",label:{show:1===Number($this.data("fl-data-label")),position:"inside",formatter:function(params){return Number(params.value)?params.value:""}},itemStyle:{color:$this.data("fl-color")?$this.data("fl-color"):""},data:$this.data("fl-series")}]};1===Number($this.data("fl-x-axis-label"))?option.xAxis.axisLabel={rotate:-90}:option.xAxis.axisLabel={show:!1},"possession"===$this.data("fl-stat")&&(option.yAxis.max=100),myChart.setOption(option),$c.window.on("resize orientationchange",_.debounce(function(){myChart.resize()},300)),$(document).on("onFLBuilderNavbarTabClicked",function(){myChart.resize()})})},plugin.initClubCalendar=function(){if(!$c.body.find(".anwp-fl-calendar-club__inner").length||"undefined"==typeof flatpickr)return!1;function runTippy(){if("undefined"!=typeof tippy){var $xhr,tippyOptions={theme:"light-border",allowHTML:!0,placement:"top",appendTo:function(){return document.getElementById("anwp-club-header")},interactive:!0,content:'<img class="m-3" src="'+$c.l10n.spinner_url+'">',onShow:function(instance){var matchID=$(instance.reference).data("match-id");$xhr&&4!==$xhr.readyState&&$xhr.abort(),$c.gameCards[matchID]?instance.setContent($c.gameCards[matchID]):$xhr=$.ajax({url:$c.l10n.ajax_url,type:"POST",dataType:"json",data:{action:"anwp_fl_get_form_club_match",_ajax_nonce:$c.l10n.public_nonce,match_id:matchID}}).done(function(response){response.success&&response.data.html&&($c.gameCards[matchID]=response.data.html,instance.setContent(response.data.html))})}};tippy(".anwp-calendar-club-game",tippyOptions)}}$c.body.find(".anwp-fl-calendar-club__inner").each(function(){var $wrapper=$(this).closest(".anwp-fl-calendar-club"),datesAvailable=[],datesData={};_.each($wrapper.data("dates").split("||"),function(element){var elData=element.split("|");datesAvailable.push(elData[0]),datesData[elData[0]]=elData}),flatpickr(this,{inline:!0,dateFormat:"Y-m-d",defaultDate:"today",enable:["2030-01-01"],onDayCreate:function(dObj,dStr,fp,dayElem){var dateFormated=fp.formatDate(dayElem.dateObj,"Y-m-d");_.contains(datesAvailable,dateFormated)&&!dayElem.classList.contains("anwp-calendar-club-has-match")&&(dayElem.innerHTML='<div data-match-id="'+datesData[dateFormated][1]+'"class="anwp-calendar-club-game club-logo__cover club-logo__cover--small" style="background-image: url('+datesData[dateFormated][2]+')"></div>',dayElem.classList.add("anwp-calendar-club-has-match","d-flex","align-items-center"))},onReady:function(){runTippy()},onMonthChange:function(){runTippy()},onYearChange:function(){runTippy()},locale:{firstDayOfWeek:anwpfl_premium_public_l10n.first_day_week,weekdays:{shorthand:anwpfl_premium_public_l10n.weekdaysShort},months:{longhand:anwpfl_premium_public_l10n.months}}})})},plugin.scrollTo=function(){$(".anwpfl-scroll-to").on("click",function(e){var target=$($(this).data("target"));target.length&&(e.preventDefault(),$("html, body").stop().animate({scrollTop:target.offset().top-100},1e3))})},plugin.standingMatchesInModaal=function(){var $xhr=null;if(!$c.body.find(".anwp-modaal-games-list").length)return!1;$c.body.on("click",".anwp-modaal-games-list",function(e){var $this=$(this),$wrapper=$c.body.find("#anwp-modaal-games-list__matches"),$loader=$c.body.find("#anwp-modaal-games-list__loader");e.preventDefault(),$xhr&&4!==$xhr.readyState&&$xhr.abort(),$this.modaal({type:"inline",custom_class:"anwp-b-wrap",start_open:!0,width:550}),$wrapper.html(""),$loader.removeClass("d-none"),$xhr=$.ajax({url:anwpfl_premium_public_l10n.ajax_url,type:"POST",dataType:"json",data:{action:"anwp_fl_standing_get_matches",_ajax_nonce:anwpfl_premium_public_l10n.public_nonce,club:$this.data("club"),standing:$this.data("standing")}}).done(function(response){response.success?$wrapper.html(response.data.html):$wrapper.html(response.data?response.data:anwpfl_premium_public_l10n.loadingDataError)}).fail(function(){$wrapper.html(anwpfl_premium_public_l10n.loadingDataError)}).always(function(){$loader.addClass("d-none")})})},plugin.statPlayersInModaal=function(){if(!$c.body.find(".anwp-modaal-stat-players-list").length)return!1;var $btn,loadedQty,$xhr=null,$wrapper=$c.body.find("#anwp-modaal-stat-players__players"),$loader=$c.body.find("#anwp-modaal-stat-players__loader"),$loadMore=$c.body.find("#anwp-modaal-stat-players__load-more");$c.body.on("click",".anwp-modaal-stat-players-list",function(e){$btn=$(this),loadedQty=0,e.preventDefault(),$loadMore.addClass("d-none"),$xhr&&4!==$xhr.readyState&&$xhr.abort(),$btn.modaal({type:"inline",custom_class:"anwp-b-wrap",start_open:!0,width:400}),$wrapper.html(""),$loader.removeClass("d-none"),$xhr=$.ajax({url:anwpfl_premium_public_l10n.ajax_url,type:"POST",dataType:"json",data:{action:"anwp_fl_get_stat_players",_ajax_nonce:anwpfl_premium_public_l10n.public_nonce,loaded:loadedQty,args:$btn.data("anwp-args")}}).done(function(response){response.success?($(response.data.html).appendTo($wrapper),loadedQty=response.data.offset,response.data.next?$loadMore.removeClass("d-none"):$loadMore.addClass("d-none"),$(document).trigger("resize")):$wrapper.html(response.data?response.data:anwpfl_premium_public_l10n.loadingDataError)}).fail(function(){$wrapper.html(anwpfl_premium_public_l10n.loadingDataError)}).always(function(){$loader.addClass("d-none")})}),$loadMore.on("click",function(e){e.preventDefault();var $this=$(this);if($this.prop("disabled"))return!1;$loader.removeClass("d-none"),$this.prop("disabled",!0),$.ajax({url:anwpfl_premium_public_l10n.ajax_url,type:"POST",dataType:"json",data:{action:"anwp_fl_get_stat_players",_ajax_nonce:anwpfl_premium_public_l10n.public_nonce,loaded:loadedQty,args:$btn.data("anwp-args")}}).done(function(response){response.success?($(response.data.html).appendTo($wrapper),loadedQty=response.data.offset,response.data.next?$loadMore.removeClass("d-none"):$loadMore.addClass("d-none"),$(document).trigger("resize")):$wrapper.html(response.data?response.data:anwpfl_premium_public_l10n.loadingDataError)}).always(function(){$this.removeClass("anwp-fl-load-more--active disabled"),$this.prop("disabled",!1),$loader.addClass("d-none")})})},plugin.initBuilderTabs=function(){if(!$c.body.find(".anwp-fl-builder-navbar").length)return!1;$c.body.find(".anwp-fl-builder-navbar").on("click",".anwp-navbar__item",function(e){var $this=$(this),target=$($this.data("target"));if(e.preventDefault(),$this.hasClass("anwp-active-tab"))return!1;$this.addClass("anwp-active-tab").siblings(".anwp-navbar__item").removeClass("anwp-active-tab"),target.siblings(".anwp-navbar__content").addClass("d-none"),target.removeClass("d-none"),_.defer(function(){(target.find(".anwp-data-shortcode-stats_players").length||target.find(".anwp-fl-match-player-stats").length)&&"yes"!==target.data("datatable-adjusted")&&($($.fn.dataTable.tables(!0)).DataTable().columns.adjust(),target.data("datatable-adjusted","yes"),target.addClass("anwp-fl-builder-data-table-adjusted")),target.find(".anwp-fl-matches-scoreboard").length&&"yes"!==target.data("swiper-updated")&&"undefined"!=typeof Swiper&&(target.find(".anwp-fl-matches-scoreboard .anwp-fl-matches-scoreboard__swiper-container").each(function(){this.swiper.update()}),target.data("swiper-updated","yes")),target.find(".anwp-fl-matchweek-slides").length&&"yes"!==target.data("swiper-updated")&&"undefined"!=typeof Swiper&&(target.find(".anwp-fl-matchweek-slides .anwp-fl-matchweek-nav-slides__swiper-container").each(function(){if(this.swiper.update(),$(this).closest(".anwp-fl-matchweek-slides").length){var initialSlide=$(this).closest(".anwp-fl-matchweek-slides").data("initial");0<initialSlide&&this.swiper.slideTo(Number(initialSlide),0)}}),target.find(".anwp-fl-matchweek-slides .anwp-fl-matchweek-slides__swiper-container").each(function(){if(this.swiper.update(),$(this).closest(".anwp-fl-matchweek-slides").length){var initialSlide=$(this).closest(".anwp-fl-matchweek-slides").data("initial");0<initialSlide&&this.swiper.slideTo(Number(initialSlide),0)}}),target.data("swiper-updated","yes")),target.find(".anwp-justified-gallery.anwp-justified-gallery--refresh-required").length&&$.fn.justifiedGallery&&target.find(".anwp-justified-gallery.anwp-justified-gallery--refresh-required").justifiedGallery({rowHeight:150,lastRow:"nojustify",margins:3}).removeClass("anwp-justified-gallery--refresh-required"),$(document).trigger("onFLBuilderNavbarTabClicked")})}),$c.body.find(".anwp-fl-builder-navbar .anwp-navbar__item:first-child").trigger("click")},plugin.initDataStatsPlayers=function(){if(void 0===$.fn.dataTable)return!1;$c.body.find(".anwp-fl-match-player-stats").each(function(){$(this).DataTable({scrollX:!0,paging:!1,searching:!1,info:!1,order:[],columnDefs:[{targets:"no-sort",orderable:!1}],fixedColumns:{leftColumns:1},language:{emptyTable:"No data"}})}),$c.body.find(".anwp-data-shortcode-stats_players").each(function(){var $this=$(this),tableArgs={scrollX:!0,dom:"Bfrtip",buttons:[{extend:"colvis",columnText:function(dt,idx){var title=$(dt.column(idx).header()).attr("title");return title||(title=$(dt.column(idx).header()).attr("data-original-title")),title}}],pageLength:$this.data("rows"),fixedColumns:{leftColumns:1},language:{processing:$c.l10n.processing,search:$c.l10n.search,lengthMenu:$c.l10n.lengthMenu,info:$c.l10n.info,infoEmpty:$c.l10n.infoEmpty,infoFiltered:$c.l10n.infoFiltered,infoPostFix:$c.l10n.infoPostFix,loadingRecords:$c.l10n.loadingRecords,zeroRecords:$c.l10n.zeroRecords,emptyTable:$c.l10n.emptyTable,paginate:{first:$c.l10n.paginate_first,previous:$c.l10n.paginate_previous,next:$c.l10n.paginate_next,last:$c.l10n.paginate_last},aria:{sortAscending:$c.l10n.aria_sortAscending,sortDescending:$c.l10n.aria_sortDescending},buttons:{colvis:$c.l10n.colvis,pageLength:{_:$c.l10n.show__rows,"-1":$c.l10n.show_all}}},initComplete:function(){this.api().columns().every(function(){var column=this;if($(column.header()).data("filter")){var select=$("<select />").appendTo(column.footer()).on("change",function(){var val=$.fn.dataTable.util.escapeRegex($(this).val());column.search(val?"^"+val+"$":"",!0,!1).draw()});select.append('<option value=""></option>'),column.data().unique().sort().each(function(d){-1===d.indexOf(";")&&select.append('<option value="'+d+'">'+d+"</option>")})}})}};$this.data("paging")?(tableArgs.buttons.unshift("pageLength"),tableArgs.lengthMenu=[[10,25,50,-1],[$c.l10n.rows_10,$c.l10n.rows_25,$c.l10n.rows_50,$c.l10n.show_all]]):(tableArgs.pageLength="-1",tableArgs.paging=!1),"json"===$this.data("fl-source")&&(tableArgs.data=window[$this.data("fl-source-id")]),$this.DataTable(tableArgs)})},plugin.initShowScore=function(){var $btn=$c.body.find("#fl-show-score-btn");if(!$btn.length)return!1;$btn.on("click",function(){$c.body.find(".fl-hide-score-click").removeClass("fl-hide-score-click")})},plugin.init()}(window,document,jQuery,window.AnWPFootballLeaguesPremium,window.anwpfl_premium_public_l10n),window.anwpFLProMatchesScoreboard={},function(window,$,app){app.init=function(){app.cache(),app.meetsRequirements()&&app.bindEvents()},app.cache=function(){app.$c={window:$(window),boards:$(".anwp-fl-matches-scoreboard")}},app.bindEvents=function(){"loading"!==document.readyState?app.initScoreboard():document.addEventListener("DOMContentLoaded",app.initScoreboard)},app.meetsRequirements=function(){return"undefined"!=typeof Swiper&&app.$c.boards.length},app.initScoreboard=function(){app.$c.boards.each(function(){var $this=$(this);new Swiper($this.find(".anwp-fl-matches-scoreboard__swiper-container")[0],{slidesPerView:"auto",slideClass:"match-card",initialSlide:$this.data("fl-initial"),autoplay:"yes"===$this.data("fl-autoplay"),loopedSlides:7,loop:"yes"===$this.data("fl-loop"),navigation:{nextEl:$this.find(".anwp-fl-matches-scoreboard__swiper-button-next")[0],prevEl:$this.find(".anwp-fl-matches-scoreboard__swiper-button-prev")[0]}})})},app.init()}(window,jQuery,window.anwpFLProMatchesScoreboard),window.anwpFLMatchWeekSlides={},function(window,$,app){app.init=function(){app.cache(),app.meetsRequirements()&&app.bindEvents()},app.cache=function(){app.$c={window:$(window),boards:$(".anwp-fl-matchweek-slides")}},app.bindEvents=function(){"loading"!==document.readyState?app.initScoreboard():document.addEventListener("DOMContentLoaded",app.initScoreboard)},app.meetsRequirements=function(){return"undefined"!=typeof Swiper&&app.$c.boards.length},app.initScoreboard=function(){app.$c.boards.each(function(){var $this=$(this),swiper1=new Swiper($this.find(".anwp-fl-matchweek-slides__swiper-container")[0],{slideClass:"anwp-fl-matchweek-slides__swiper-slide",initialSlide:$this.data("initial")}),swiper2=new Swiper($this.find(".anwp-fl-matchweek-nav-slides__swiper-container")[0],{slidesPerView:$this.data("navs"),spaceBetween:5,slideClass:"anwp-fl-matchweek-nav-slides__swiper-slide",navigation:{nextEl:$this.find(".swiper-button-next")[0],prevEl:$this.find(".swiper-button-prev")[0]},centeredSlides:!0,centeredSlidesBounds:!1,initialSlide:$this.data("initial")});$this.find(".anwp-fl-matchweek-nav-slides__swiper-slide").on("click",function(e){e.preventDefault(),swiper2.slideTo($(this).data("index"))}),(swiper1.controller.control=swiper2).controller.control=swiper1})},app.init()}(window,jQuery,window.anwpFLMatchWeekSlides),window.anwpFLProTippyClubSeriesGame={},function(window,$,app,l10n){app.init=function(){app.cache(),app.meetsRequirements()&&app.bindEvents()},app.cache=function(){app.$c={window:$(window),gameCards:{}}},app.bindEvents=function(){"loading"!==document.readyState?app.initTippy():document.addEventListener("DOMContentLoaded",app.initTippy)},app.meetsRequirements=function(){return"undefined"!=typeof tippy&&!!$(".club-form__item-pro[data-anwp-fl-match-tooltip]").length},app.initTippy=function(){var $xhr,tippyOptions={theme:"light-border",interactive:!0,allowHTML:!0,placement:"top",content:'<img class="m-3" src="'+l10n.spinner_url+'">',onShow:function(instance){var matchID=$(instance.reference).data("match-id");$xhr&&4!==$xhr.readyState&&$xhr.abort(),app.$c.gameCards[matchID]?instance.setContent(app.$c.gameCards[matchID]):$xhr=$.ajax({url:l10n.ajax_url,type:"POST",dataType:"json",data:{action:"anwp_fl_get_form_club_match",_ajax_nonce:l10n.public_nonce,match_id:matchID}}).done(function(response){response.success&&response.data.html&&(app.$c.gameCards[matchID]=response.data.html,instance.setContent(response.data.html))})}};tippy(".club-form__item-pro[data-anwp-fl-match-tooltip]",tippyOptions)},$(app.init)}(window,jQuery,window.anwpFLProTippyClubSeriesGame,window.anwpfl_premium_public_l10n);